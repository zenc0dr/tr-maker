(()=>{"use strict";var __webpack_modules__={5311:module=>{module.exports=jQuery}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}(()=>{function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Controller=function(){function Controller(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Controller),this.started=!1}var Constructor,protoProps,staticProps;return Constructor=Controller,staticProps=[{key:"disposeControls",value:function(container){container===document&&(container=document.documentElement),container.querySelectorAll("[data-disposable]").forEach((function(control){oc.Events.dispatch("october:dispose",{target:control})})),container.hasAttribute("data-disposable")&&oc.Events.dispatch("october:dispose",{target:container})}}],(protoProps=[{key:"start",value:function(){this.started||(this.started=!0),this.bindAutoDisposal()}},{key:"stop",value:function(){this.started&&(this.started=!1)}},{key:"bindAutoDisposal",value:function(){addEventListener("page:before-render",(function(ev){Controller.disposeControls(ev.target)})),addEventListener("ajax:before-replace",(function(ev){Controller.disposeControls(ev.target)}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Controller}();function normalizeData(value){if("true"===value)return!0;if("false"===value)return!1;if(value===Number(value).toString())return Number(value);if(""===value||"null"===value)return null;if("string"!=typeof value)return value;try{return JSON.parse(decodeURIComponent(value))}catch(_unused){return value}}function normalizeDataKey(key){return key.replace(/[A-Z]/g,(function(chr){return"-".concat(chr.toLowerCase())}))}const util_config={setDataAttribute:function(element,key,value){element.setAttribute("data-".concat(normalizeDataKey(key)),value)},removeDataAttribute:function(element,key){element.removeAttribute("data-".concat(normalizeDataKey(key)))},getDataAttributes:function(element){if(!element)return{};for(var attributes={},_i=0,_dataKeys=Object.keys(element.dataset);_i<_dataKeys.length;_i++){var key=_dataKeys[_i];attributes[key]=normalizeData(element.dataset[key])}return attributes},getDataAttribute:function(element,key){return normalizeData(element.getAttribute("data-".concat(normalizeDataKey(key))))}};var elementMap=new Map;const data_set=function(element,key,instance){elementMap.has(element)||elementMap.set(element,new Map);var instanceMap=elementMap.get(element);instanceMap.has(key)||0===instanceMap.size?instanceMap.set(key,instance):console.error("[Foundation] Cannot bind more than one instance per element. Bound instance: ".concat(Array.from(instanceMap.keys())[0],"."))},data_get=function(element,key){return elementMap.has(element)&&elementMap.get(element).get(key)||null},data_remove=function(element,key){if(elementMap.has(element)){var instanceMap=elementMap.get(element);instanceMap.delete(key),0===instanceMap.size&&elementMap.delete(element)}};function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function base_class_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var BaseClass=function(){function BaseClass(element,config){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseClass),(element=getElement(element))&&(this.element=element,this.config=this.getConfig(config),this.proxiedMethods={},this.markDisposable(),data_set(this.element,this.constructor.DATANAME,this))}var Constructor,protoProps,staticProps;return Constructor=BaseClass,protoProps=[{key:"dispose",value:function(){for(var key in data_remove(this.element,this.constructor.DATANAME),this.forget("october:dispose",this.proxy(this.dispose)),this.proxiedMethods)this.proxiedMethods[key]=null;var _step,_iterator=_createForOfIteratorHelper(Object.getOwnPropertyNames(this));try{for(_iterator.s();!(_step=_iterator.n()).done;)this[_step.value]=null}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"listen",value:function(eventName,handler,callback){return oc.Events.on(this.element,eventName,handler,callback)}},{key:"listenOnce",value:function(eventName,handler,callback){return oc.Events.one(this.element,eventName,handler,callback)}},{key:"forget",value:function(eventName,handler,callback){return oc.Events.off(this.element,eventName,handler,callback)}},{key:"dispatch",value:function(eventName){var args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oc.Events.dispatch(eventName,_objectSpread({target:this.element},args))}},{key:"markDisposable",value:function(){this.element.setAttribute("data-disposable",""),this.listen("october:dispose",this.proxy(this.dispose))}},{key:"onDispose",value:function(callback){this.listen("october:dispose",this.proxy(callback))}},{key:"proxy",value:function(method){return void 0===method.ocProxyId&&(BaseClass.proxyCounter++,method.ocProxyId=BaseClass.proxyCounter),void 0!==this.proxiedMethods[method.ocProxyId]||(this.proxiedMethods[method.ocProxyId]=method.bind(this)),this.proxiedMethods[method.ocProxyId]}},{key:"getConfig",value:function(config){return _objectSpread(_objectSpread(_objectSpread({},this.constructor.DEFAULTS),util_config.getDataAttributes(this.element)),"object"===_typeof(config)?config:{})}}],staticProps=[{key:"getInstance",value:function(element){return data_get(getElement(element),this.DATANAME)}},{key:"getOrCreateInstance",value:function(element){var config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(element)||new this(element,"object"===_typeof(config)?config:null)}}],protoProps&&base_class_defineProperties(Constructor.prototype,protoProps),staticProps&&base_class_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),BaseClass}();function getElement(element){return"string"==typeof object&&object.length>0?document.querySelector(object):element}_defineProperty(BaseClass,"proxyCounter",0);var $=__webpack_require__(5311);function select_typeof(obj){return select_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},select_typeof(obj)}function select_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===select_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var Select=function(_BaseClass){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(Select,_BaseClass);var Constructor,protoProps,staticProps,_super=_createSuper(Select);function Select(element,config){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Select),(_this=_super.call(this,element,config)).$el=$(element),_this.formatSelectOption=function(state){var text=$("<span>").text(state.text).html();if(void 0===state.id)return text;var $option=$(state.element),statusColor=state.status?state.status:$option.data("status"),iconClass=state.icon?state.icon:$option.data("icon"),imageSrc=state.image?state.image:$option.data("image");return statusColor?'<span class="select-status status-indicator" style="background:'+statusColor+'"></span> '+text:iconClass?'<i class="select-icon '+iconClass+'"></i> '+text:imageSrc?'<img class="select-image" src="'+imageSrc+'" alt="" /> '+text:text},_this.disableSelect=function(event,status){null!=$(this).data("select2")&&$(this).select2("enable",!status)};var self=_assertThisInitialized(_this);return _this.triggerNativeChange=function(event){oc.Events.dispatch("change",{target:event.currentTarget}),$(event.currentTarget).one("change",self.triggerNativeChange)},_this.destroyPlaceholder(),_this.$el.one("change",_this.proxy(_this.triggerNativeChange)),_this.$el.on("disable",_this.proxy(_this.disableSelect)),_this.bindCustomSelect(),_this.bindCustomSelectWorkaround(),_this}return Constructor=Select,protoProps=[{key:"bindCustomSelectWorkaround",value:function(){this.$el.data("select2").$container.addClass(this.options.containerCssClass),this.select2OpenWorkaround=function(){setTimeout((function(){document.querySelector(".select2-container--open .select2-search__field").focus()}),100)},this.$el.on("select2:open",this.select2OpenWorkaround)}},{key:"dispose",value:function(){this.clonePlaceholder(),this.$el.off("change",this.proxy(this.triggerNativeChange)),this.$el.off("disable",this.proxy(this.disableSelect)),this.$el.off("select2:open",this.select2OpenWorkaround),this.$el.select2("destroy"),_get(_getPrototypeOf(Select.prototype),"dispose",this).call(this)}},{key:"destroyPlaceholder",value:function(){var artefact=this.element&&this.element.nextElementSibling;artefact&&artefact.matches(".select2")&&artefact.remove()}},{key:"clonePlaceholder",value:function(){var artefact=this.element&&this.element.nextElementSibling;if(artefact&&artefact.matches(".select2")){var newNode=artefact.cloneNode(!0);artefact.parentNode.insertBefore(newNode,artefact.nextSibling),newNode.innerHtml=artefact.innerHtml,this.element.style.display="none"}}},{key:"bindCustomSelect",value:function(){var options=this.options=this.buildSelectOptions();this.element.dataset.handler&&(options=this.buildAjaxHandlerOption(options,this.element.dataset.handler)),this.element.dataset.tokenSeparators&&(options=this.buildTokenSeparatorOptions(options,this.element.dataset.tokenSeparators)),this.$el.select2(options)}},{key:"buildTokenSeparatorOptions",value:function(selectOptions,separators){return selectOptions.tags=!0,selectOptions.tokenSeparators=separators.split("|"),this.element.classList.contains("select-no-dropdown")&&(selectOptions.selectOnClose=!0,selectOptions.closeOnSelect=!1,selectOptions.minimumInputLength=1,this.$el.on("select2:closing",(function(){var highlightedEls=$(".select2-dropdown.select-no-dropdown:first .select2-results__option--highlighted");highlightedEls.length>0&&(highlightedEls.removeClass("select2-results__option--highlighted"),$(".select2-dropdown.select-no-dropdown:first .select2-results__option:first").addClass("select2-results__option--highlighted"))}))),selectOptions}},{key:"buildAjaxHandlerOption",value:function(selectOptions,source){return selectOptions.ajax={transport:function(params,success,failure){var request=oc.ajax(source,{data:params.data});return request.done(success),request.fail(failure),request},processResults:function(data,params){var results=data.result||data.results,options=[];if(delete data.result,results[0]&&"object"===select_typeof(results[0]))options=results;else for(var i in results)results.hasOwnProperty(i)&&options.push({id:i,text:results[i]});return data.results=options,data},dataType:"json"},selectOptions}},{key:"buildSelectOptions",value:function(){var selectOptions={templateResult:this.formatSelectOption,templateSelection:this.formatSelectOption,escapeMarkup:function(m){return m},width:"style",containerCssClass:"",dropdownCssClass:"",selectionCssClass:""};this.element.classList.contains("select-no-search")&&(selectOptions.minimumResultsForSearch=1/0),this.element.classList.contains("select-no-dropdown")&&(selectOptions.dropdownCssClass+=" select-no-dropdown",selectOptions.selectionCssClass+=" select-no-dropdown"),this.element.classList.contains("select-hide-selected")&&(selectOptions.dropdownCssClass+=" select-hide-selected"),this.element.classList.contains("select-dropdown-auto-width")&&(selectOptions.dropdownAutoWidth=!0),this.element.classList.contains("form-control-sm")&&(selectOptions.containerCssClass+=" form-control-sm"),this.element.classList.contains("form-control-lg")&&(selectOptions.containerCssClass+=" form-control-lg");var language=this.element.dataset.language;if(!language){var meta=document.querySelector('meta[name="backend-locale"]');meta&&(language=meta.getAttribute("content"))}language&&(selectOptions.language=language);var placeholder=this.element.dataset.placeholder;return placeholder&&(selectOptions.placeholder=placeholder,selectOptions.allowClear=!0),selectOptions}}],staticProps=[{key:"DATANAME",get:function(){return"ocSelect"}},{key:"DEFAULTS",get:function(){return{animation:!0,autohide:!0,delay:5e3}}}],protoProps&&select_defineProperties(Constructor.prototype,protoProps),staticProps&&select_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Select}(BaseClass);addEventListener("render",(function(){document.querySelectorAll("select.custom-select").forEach((function(el){Select.getOrCreateInstance(el)}))}));var instance=new Controller;window.oc&&(window.oc.Foundation=instance,window.oc.FoundationBase=BaseClass),instance.start()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL21vZHVsZXMvYmFja2VuZC9hc3NldHMvanMvZm91bmRhdGlvbi1taW4uanMiLCJtYXBwaW5ncyI6IjBEQUFBQSxPQUFPQyxRQUFVQyxTQ0NiQyx5QkFBMkIsR0FHL0IsU0FBU0Msb0JBQW9CQyxVQUU1QixJQUFJQyxhQUFlSCx5QkFBeUJFLFVBQzVDLFFBQXFCRSxJQUFqQkQsYUFDSCxPQUFPQSxhQUFhTCxRQUdyQixJQUFJRCxPQUFTRyx5QkFBeUJFLFVBQVksQ0FHakRKLFFBQVMsSUFPVixPQUhBTyxvQkFBb0JILFVBQVVMLE9BQVFBLE9BQU9DLFFBQVNHLHFCQUcvQ0osT0FBT0MsUSwwUkNyQlIsSUFBTVEsV0FBYixXQUVJLHVCLDhIQUFjLGtCQUNWQyxLQUFLQyxTQUFVLEUsdUNBSHZCLE8sWUFBQSxXLFlBQUEsOEJBa0NJLFNBQXVCQyxXQUNmQSxZQUFjQyxXQUNkRCxVQUFZQyxTQUFTQyxpQkFHekJGLFVBQVVHLGlCQUFpQixxQkFBcUJDLFNBQVEsU0FBU0MsU0FDN0RDLEdBQUdDLE9BQU9DLFNBQVMsa0JBQW1CLENBQUVDLE9BQVFKLGFBR2hETCxVQUFVVSxhQUFhLG9CQUN2QkosR0FBR0MsT0FBT0MsU0FBUyxrQkFBbUIsQ0FBRUMsT0FBUVQsZ0IsV0E1QzVELG9CQU1JLFdBQ1NGLEtBQUtDLFVBQ05ELEtBQUtDLFNBQVUsR0FHbkJELEtBQUthLHFCQVhiLGtCQWNJLFdBQ1FiLEtBQUtDLFVBQ0xELEtBQUtDLFNBQVUsS0FoQjNCLDhCQXNCSSxXQUNJYSxpQkFBaUIsc0JBQXNCLFNBQVNDLElBQzVDaEIsV0FBV2lCLGdCQUFnQkQsR0FBR0osV0FHbENHLGlCQUFpQix1QkFBdUIsU0FBU0MsSUFDN0NoQixXQUFXaUIsZ0JBQWdCRCxHQUFHSixnQix5S0E1QjFDLGNDQUEsU0FBU00sY0FBY0MsT0FDbkIsR0FBYyxTQUFWQSxNQUNBLE9BQU8sRUFHWCxHQUFjLFVBQVZBLE1BQ0EsT0FBTyxFQUdYLEdBQUlBLFFBQVVDLE9BQU9ELE9BQU9FLFdBQ3hCLE9BQU9ELE9BQU9ELE9BR2xCLEdBQWMsS0FBVkEsT0FBMEIsU0FBVkEsTUFDaEIsT0FBTyxLQUdYLEdBQXFCLGlCQUFWQSxNQUNQLE9BQU9BLE1BR1gsSUFDSSxPQUFPRyxLQUFLQyxNQUFNQyxtQkFBbUJMLFFBRXpDLGVBQ0ksT0FBT0EsT0FJZixTQUFTTSxpQkFBaUJDLEtBQ3RCLE9BQU9BLElBQUlDLFFBQVEsVUFBVSxTQUFBQyxLQUFHLGlCQUFRQSxJQUFJQyxrQkFnQ2hELGtCQTdCZSxDQUNYQyxpQkFEVyxTQUNNQyxRQUFTTCxJQUFLUCxPQUMzQlksUUFBUUMsYUFBUixlQUE2QlAsaUJBQWlCQyxNQUFRUCxRQUcxRGMsb0JBTFcsU0FLU0YsUUFBU0wsS0FDekJLLFFBQVFHLGdCQUFSLGVBQWdDVCxpQkFBaUJDLFFBR3JEUyxrQkFUVyxTQVNPSixTQUNkLElBQUtBLFFBQ0QsTUFBTyxHQU1YLElBSEEsSUFBTUssV0FBYSxHQUduQixlQUZpQkMsT0FBT0MsS0FBS1AsUUFBUVEsU0FFckMseUJBQTRCLENBQXZCLElBQU1iLElBQUcsY0FDVlUsV0FBV1YsS0FBT1IsY0FBY2EsUUFBUVEsUUFBUWIsTUFHcEQsT0FBT1UsWUFHWEksaUJBeEJXLFNBd0JNVCxRQUFTTCxLQUN0QixPQUFPUixjQUFjYSxRQUFRVSxhQUFSLGVBQTZCaEIsaUJBQWlCQyxVQzFEM0UsSUFBTWdCLFdBQWEsSUFBSUMsSUFFdkIsZUFBZSxTQUNQWixRQUFTTCxJQUFLa0IsVUFDVEYsV0FBV0csSUFBSWQsVUFDaEJXLFdBQVdJLElBQUlmLFFBQVMsSUFBSVksS0FHaEMsSUFBTUksWUFBY0wsV0FBV00sSUFBSWpCLFNBQzlCZ0IsWUFBWUYsSUFBSW5CLE1BQTZCLElBQXJCcUIsWUFBWUUsS0FLekNGLFlBQVlELElBQUlwQixJQUFLa0IsVUFKakJNLFFBQVFDLE1BQVIsdUZBQThGQyxNQUFNQyxLQUFLTixZQUFZVCxRQUFRLEdBQTdILE9BUlosU0FBZSxTQWVQUCxRQUFTTCxLQUNULE9BQUlnQixXQUFXRyxJQUFJZCxVQUNSVyxXQUFXTSxJQUFJakIsU0FBU2lCLElBQUl0QixNQUdoQyxNQXBCZixZQUFlLFNBdUJKSyxRQUFTTCxLQUNaLEdBQUtnQixXQUFXRyxJQUFJZCxTQUFwQixDQUlBLElBQU1nQixZQUFjTCxXQUFXTSxJQUFJakIsU0FFbkNnQixZQUFXLE9BQVFyQixLQUVNLElBQXJCcUIsWUFBWUUsTUFDWlAsV0FBVSxPQUFRWCxXLDRzRkNoQ1R1QixVQUFBQSxXQUlqQixtQkFBWXZCLFFBQVN3QixTLDhIQUFRLGtCQUN6QnhCLFFBQVV5QixXQUFXekIsWUFLckI5QixLQUFLOEIsUUFBVUEsUUFDZjlCLEtBQUtzRCxPQUFTdEQsS0FBS3dELFVBQVVGLFFBQzdCdEQsS0FBS3lELGVBQWlCLEdBQ3RCekQsS0FBSzBELGlCQUVMQyxTQUFTM0QsS0FBSzhCLFFBQVM5QixLQUFLNEQsWUFBWUMsU0FBVTdELE8scUdBSXRELFdBS0ksSUFBSyxJQUFNeUIsT0FKWGtDLFlBQVkzRCxLQUFLOEIsUUFBUzlCLEtBQUs0RCxZQUFZQyxVQUUzQzdELEtBQUs4RCxPQUFPLGtCQUFtQjlELEtBQUsrRCxNQUFNL0QsS0FBS2dFLFVBRTdCaEUsS0FBS3lELGVBQ25CekQsS0FBS3lELGVBQWVoQyxLQUFPLEtBTnpCLCtDQVNxQlcsT0FBTzZCLG9CQUFvQmpFLE9BVGhELElBU04sK0NBQ0lBLEtBRHlELGFBQ3BDLEtBVm5CLHFELG9CQXdCVixTQUFPa0UsVUFBV0MsUUFBU0MsVUFDdkIsT0FBTzVELEdBQUdDLE9BQU80RCxHQUFHckUsS0FBSzhCLFFBQVNvQyxVQUFXQyxRQUFTQyxZLHdCQUcxRCxTQUFXRixVQUFXQyxRQUFTQyxVQUMzQixPQUFPNUQsR0FBR0MsT0FBTzZELElBQUl0RSxLQUFLOEIsUUFBU29DLFVBQVdDLFFBQVNDLFksb0JBRzNELFNBQU9GLFVBQVdDLFFBQVNDLFVBQ3ZCLE9BQU81RCxHQUFHQyxPQUFPOEQsSUFBSXZFLEtBQUs4QixRQUFTb0MsVUFBV0MsUUFBU0MsWSxzQkFHM0QsU0FBU0YsV0FBc0IsSUFBWE0sS0FBVyx1REFBSixHQUN2QixPQUFPaEUsR0FBR0MsT0FBT0MsU0FBU3dELFVBQW5CLGVBQWdDdkQsT0FBUVgsS0FBSzhCLFNBQVkwQyxTLDRCQUlwRSxXQUNJeEUsS0FBSzhCLFFBQVFDLGFBQWEsa0JBQW1CLElBQzdDL0IsS0FBS3lFLE9BQU8sa0JBQW1CekUsS0FBSytELE1BQU0vRCxLQUFLZ0UsWSx1QkFHbkQsU0FBVUksVUFDTnBFLEtBQUt5RSxPQUFPLGtCQUFtQnpFLEtBQUsrRCxNQUFNSyxhLG1CQUc5QyxTQUFNTSxRQU1GLFlBTHlCN0UsSUFBckI2RSxPQUFPQyxZQUNQdEIsVUFBVXVCLGVBQ1ZGLE9BQU9DLFVBQVl0QixVQUFVdUIsbUJBR2EvRSxJQUExQ0csS0FBS3lELGVBQWVpQixPQUFPQyxhQUkvQjNFLEtBQUt5RCxlQUFlaUIsT0FBT0MsV0FBYUQsT0FBT0csS0FBSzdFLE9BSHpDQSxLQUFLeUQsZUFBZWlCLE9BQU9DLGEsdUJBUTFDLFNBQVVyQixRQUNOLG9EQUNPdEQsS0FBSzRELFlBQVlrQixVQUNqQkMsWUFBQUEsa0JBQXlCL0UsS0FBSzhCLFVBQ1gsV0FBbEIsUUFBT3dCLFFBQXNCQSxPQUFTLE8sc0NBdERsRCxTQUFtQnhCLFNBQ2YsT0FBTzZCLFNBQVNKLFdBQVd6QixTQUFVOUIsS0FBSzZELFksaUNBRzlDLFNBQTJCL0IsU0FBc0IsSUFBYndCLE9BQWEsdURBQUosR0FDekMsT0FBT3RELEtBQUtnRixZQUFZbEQsVUFBWSxJQUFJOUIsS0FBSzhCLFFBQTJCLFdBQWxCLFFBQU93QixRQUFzQkEsT0FBUyxTLG1OQXZDL0VELEdBNkZyQixTQUFTRSxXQUFXekIsU0FDaEIsTUFBc0IsaUJBQVhtRCxRQUF1QkEsT0FBT0MsT0FBUyxFQUN2Qy9FLFNBQVNnRixjQUFjRixRQUczQm5ELFEsZ0JBbEdVdUIsVUFBQUEsZUFFSyxHLGsyRUNIcEIrQixPQUFBQSxTQUFBQSxhLDRkQUVGLGdCQUFZdEQsUUFBU3dCLFFBQVEsVyw4SEFBQSxlQUN6Qix1QkFBTXhCLFFBQVN3QixTQUVWK0IsSUFBTUMsRUFBRXhELFNBR2IsTUFBS3lELG1CQUFxQixTQUFTQyxPQUUvQixJQUFJQyxLQUFPSCxFQUFFLFVBQVVHLEtBQUtELE1BQU1DLE1BQU1DLE9BR3hDLFFBQWlCN0YsSUFBYjJGLE1BQU1HLEdBQ04sT0FBT0YsS0FHWCxJQUFJRyxRQUFVTixFQUFFRSxNQUFNMUQsU0FDbEIrRCxZQUFjTCxNQUFNTSxPQUFTTixNQUFNTSxPQUFTRixRQUFRRyxLQUFLLFVBQ3pEQyxVQUFZUixNQUFNUyxLQUFPVCxNQUFNUyxLQUFPTCxRQUFRRyxLQUFLLFFBQ25ERyxTQUFXVixNQUFNVyxNQUFRWCxNQUFNVyxNQUFRUCxRQUFRRyxLQUFLLFNBRXhELE9BQUlGLFlBQ08sa0VBQWtFQSxZQUFZLGFBQWVKLEtBR3BHTyxVQUNPLHlCQUF5QkEsVUFBVSxVQUFZUCxLQUd0RFMsU0FDTyxrQ0FBa0NBLFNBQVMsZUFBaUJULEtBR2hFQSxNQUdYLE1BQUtXLGNBQWdCLFNBQVNDLE1BQU9QLFFBQ0YsTUFBM0JSLEVBQUV0RixNQUFNK0YsS0FBSyxZQUNiVCxFQUFFdEYsTUFBTXNHLFFBQVEsVUFBV1IsU0FLbkMsSUFBSVMsS0FBTyx1QkFBSCxPQTFDaUIsT0EyQ3pCLE1BQUtDLG9CQUFzQixTQUFTSCxPQUNoQzdGLEdBQUdDLE9BQU9DLFNBQVMsU0FBVSxDQUFFQyxPQUFRMEYsTUFBTUksZ0JBQzdDbkIsRUFBRWUsTUFBTUksZUFBZW5DLElBQUksU0FBVWlDLEtBQUtDLHNCQUk5QyxNQUFLRSxxQkFHTCxNQUFLckIsSUFBSWYsSUFBSSxTQUFVLE1BQUtQLE1BQU0sTUFBS3lDLHNCQUN2QyxNQUFLbkIsSUFBSWhCLEdBQUcsVUFBVyxNQUFLTixNQUFNLE1BQUtxQyxnQkFFdkMsTUFBS08sbUJBQ0wsTUFBS0MsNkJBeERvQixNLDhFQTJEN0IsV0FFSTVHLEtBQUtxRixJQUFJVSxLQUFLLFdBQVdjLFdBQVdDLFNBQVM5RyxLQUFLK0csUUFBUUMsbUJBRzFEaEgsS0FBS2lILHNCQUF3QixXQUN6QkMsWUFBVyxXQUNQL0csU0FBU2dGLGNBQWMsbURBQW1EZ0MsVUFDM0UsTUFHUG5ILEtBQUtxRixJQUFJaEIsR0FBRyxlQUFnQnJFLEtBQUtpSCx5QixxQkFHckMsV0FDSWpILEtBQUtvSCxtQkFFTHBILEtBQUtxRixJQUFJZCxJQUFJLFNBQVV2RSxLQUFLK0QsTUFBTS9ELEtBQUt3RyxzQkFDdkN4RyxLQUFLcUYsSUFBSWQsSUFBSSxVQUFXdkUsS0FBSytELE1BQU0vRCxLQUFLb0csZ0JBRXhDcEcsS0FBS3FGLElBQUlkLElBQUksZUFBZ0J2RSxLQUFLaUgsdUJBQ2xDakgsS0FBS3FGLElBQUlpQixRQUFRLFdBRWpCLG9FLGdDQUdKLFdBQ0ksSUFBSWUsU0FBV3JILEtBQUs4QixTQUFXOUIsS0FBSzhCLFFBQVF3RixtQkFDeENELFVBQVlBLFNBQVNFLFFBQVEsYUFDN0JGLFNBQVNHLFcsOEJBSWpCLFdBQ0ksSUFBSUgsU0FBV3JILEtBQUs4QixTQUFXOUIsS0FBSzhCLFFBQVF3RixtQkFDNUMsR0FBSUQsVUFBWUEsU0FBU0UsUUFBUSxZQUFhLENBQzFDLElBQUlFLFFBQVVKLFNBQVNLLFdBQVUsR0FDakNMLFNBQVNNLFdBQVdDLGFBQWFILFFBQVNKLFNBQVNRLGFBQ25ESixRQUFRSyxVQUFZVCxTQUFTUyxVQUM3QjlILEtBQUs4QixRQUFRaUcsTUFBTUMsUUFBVSxVLDhCQUlyQyxXQUNJLElBQUlqQixRQUFVL0csS0FBSytHLFFBQVUvRyxLQUFLaUkscUJBRTlCakksS0FBSzhCLFFBQVFRLFFBQVE2QixVQUNyQjRDLFFBQVUvRyxLQUFLa0ksdUJBQXVCbkIsUUFBUy9HLEtBQUs4QixRQUFRUSxRQUFRNkIsVUFHcEVuRSxLQUFLOEIsUUFBUVEsUUFBUTZGLGtCQUNyQnBCLFFBQVUvRyxLQUFLb0ksMkJBQTJCckIsUUFBUy9HLEtBQUs4QixRQUFRUSxRQUFRNkYsa0JBRzVFbkksS0FBS3FGLElBQUlpQixRQUFRUyxXLHdDQUdyQixTQUEyQnNCLGNBQWVDLFlBbUJ0QyxPQWxCQUQsY0FBY0UsTUFBTyxFQUNyQkYsY0FBY0YsZ0JBQWtCRyxXQUFXRSxNQUFNLEtBRzdDeEksS0FBSzhCLFFBQVEyRyxVQUFVQyxTQUFTLHdCQUNoQ0wsY0FBY00sZUFBZ0IsRUFDOUJOLGNBQWNPLGVBQWdCLEVBQzlCUCxjQUFjUSxtQkFBcUIsRUFFbkM3SSxLQUFLcUYsSUFBSWhCLEdBQUcsbUJBQW1CLFdBQzNCLElBQUl5RSxlQUFpQnhELEVBQUUsb0ZBQ25Cd0QsZUFBZTVELE9BQVMsSUFDeEI0RCxlQUFlQyxZQUFZLHdDQUMzQnpELEVBQUUsNkVBQTZFd0IsU0FBUyw2Q0FLN0Z1QixnQixvQ0FHWCxTQUF1QkEsY0FBZVcsUUF3Q2xDLE9BdkNBWCxjQUFjWSxLQUFPLENBQ2pCQyxVQUFXLFNBQVNDLE9BQVFDLFFBQVNDLFNBQ2pDLElBQUlDLFFBQVU5SSxHQUFHeUksS0FBS0QsT0FBUSxDQUMxQmpELEtBQU1vRCxPQUFPcEQsT0FNakIsT0FIQXVELFFBQVFDLEtBQUtILFNBQ2JFLFFBQVFFLEtBQUtILFNBRU5DLFNBRVhHLGVBQWdCLFNBQVUxRCxLQUFNb0QsUUFDNUIsSUFBSU8sUUFBVTNELEtBQUs0RCxRQUFVNUQsS0FBSzJELFFBQzlCM0MsUUFBVSxHQUtkLFVBSE9oQixLQUFLNEQsT0FHUkQsUUFBUSxJQUE2QixXQUF2QixjQUFPQSxRQUFRLElBQzdCM0MsUUFBVTJDLGFBSVYsSUFBSyxJQUFJRSxLQUFLRixRQUNOQSxRQUFRRyxlQUFlRCxJQUN2QjdDLFFBQVErQyxLQUFLLENBQ1RuRSxHQUFJaUUsRUFDSm5FLEtBQU1pRSxRQUFRRSxLQU85QixPQURBN0QsS0FBSzJELFFBQVUzQyxRQUNSaEIsTUFFWGdFLFNBQVUsUUFHUDFCLGdCLGdDQUdYLFdBQ0ksSUFBSUEsY0FBZ0IsQ0FDaEIyQixlQUFnQmhLLEtBQUt1RixtQkFDckIwRSxrQkFBbUJqSyxLQUFLdUYsbUJBQ3hCMkUsYUFBYyxTQUFTQyxHQUFLLE9BQU9BLEdBQ25DQyxNQUFPLFFBQ1BwRCxrQkFBbUIsR0FDbkJxRCxpQkFBa0IsR0FDbEJDLGtCQUFtQixJQUduQnRLLEtBQUs4QixRQUFRMkcsVUFBVUMsU0FBUyxzQkFDaENMLGNBQWNrQyx3QkFBMEJDLEVBQUFBLEdBR3hDeEssS0FBSzhCLFFBQVEyRyxVQUFVQyxTQUFTLHdCQUNoQ0wsY0FBY2dDLGtCQUFvQixzQkFDbENoQyxjQUFjaUMsbUJBQXFCLHVCQUduQ3RLLEtBQUs4QixRQUFRMkcsVUFBVUMsU0FBUywwQkFDaENMLGNBQWNnQyxrQkFBb0IseUJBR2xDckssS0FBSzhCLFFBQVEyRyxVQUFVQyxTQUFTLGdDQUNoQ0wsY0FBY29DLG1CQUFvQixHQUlsQ3pLLEtBQUs4QixRQUFRMkcsVUFBVUMsU0FBUyxxQkFDaENMLGNBQWNyQixtQkFBcUIsb0JBR25DaEgsS0FBSzhCLFFBQVEyRyxVQUFVQyxTQUFTLHFCQUNoQ0wsY0FBY3JCLG1CQUFxQixvQkFJdkMsSUFBSTBELFNBQVcxSyxLQUFLOEIsUUFBUVEsUUFBUW9JLFNBQ3BDLElBQUtBLFNBQVUsQ0FDWCxJQUFJQyxLQUFPeEssU0FBU2dGLGNBQWMsK0JBQzlCd0YsT0FDQUQsU0FBV0MsS0FBS25JLGFBQWEsWUFJakNrSSxXQUNBckMsY0FBY3FDLFNBQVdBLFVBSTdCLElBQUlFLFlBQWM1SyxLQUFLOEIsUUFBUVEsUUFBUXNJLFlBTXZDLE9BTElBLGNBQ0F2QyxjQUFjdUMsWUFBY0EsWUFDNUJ2QyxjQUFjd0MsWUFBYSxHQUd4QnhDLGlCLGlDQUdYLFdBQ0ksTUFBTyxhLG9CQUdYLFdBQ0ksTUFBTyxDQUNIeUMsV0FBVyxFQUNYQyxVQUFVLEVBQ1ZDLE1BQU8sUSx3TUEzUGI1RixDQUFlL0IsV0FnUXJCdkMsaUJBQWlCLFVBQVUsV0FDdkJYLFNBQVNFLGlCQUFpQix3QkFBd0JDLFNBQVEsU0FBUzJLLElBQy9EN0YsT0FBTzhGLG9CQUFvQkQsVUNoUW5DLElBQU10SSxTQUFXLElBQUk1QyxXQUVqQm9MLE9BQU8zSyxLQUNQMkssT0FBTzNLLEdBQUc0SyxXQUFhekksU0FDdkJ3SSxPQUFPM0ssR0FBRzZLLGVBQWlCaEksV0FHL0JWLFNBQVMySSxTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2N0b2JlcmNtcy9leHRlcm5hbCB2YXIgXCJqUXVlcnlcIiIsIndlYnBhY2s6Ly9vY3RvYmVyY21zL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29jdG9iZXJjbXMvLi9tb2R1bGVzL2JhY2tlbmQvYXNzZXRzL2ZvdW5kYXRpb24vY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9vY3RvYmVyY21zLy4vbW9kdWxlcy9iYWNrZW5kL2Fzc2V0cy9mb3VuZGF0aW9uL3V0aWwvY29uZmlnLmpzIiwid2VicGFjazovL29jdG9iZXJjbXMvLi9tb2R1bGVzL2JhY2tlbmQvYXNzZXRzL2ZvdW5kYXRpb24vdXRpbC9kYXRhLmpzIiwid2VicGFjazovL29jdG9iZXJjbXMvLi9tb2R1bGVzL2JhY2tlbmQvYXNzZXRzL2ZvdW5kYXRpb24vYmFzZS1jbGFzcy5qcyIsIndlYnBhY2s6Ly9vY3RvYmVyY21zLy4vbW9kdWxlcy9iYWNrZW5kL2Fzc2V0cy9mb3VuZGF0aW9uL2NvbnRyb2xzL3NlbGVjdC9zZWxlY3QuanMiLCJ3ZWJwYWNrOi8vb2N0b2JlcmNtcy8uL21vZHVsZXMvYmFja2VuZC9hc3NldHMvZm91bmRhdGlvbi9mb3VuZGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0galF1ZXJ5OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJleHBvcnQgY2xhc3MgQ29udHJvbGxlclxue1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJpbmRBdXRvRGlzcG9zYWwoKTtcbiAgICB9XG5cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgZGlzcG9zZSBjb250cm9scyBpbiBhbiBlbGVtZW50IGJlZm9yZSB0aGUgZWxlbWVudCBjb250ZW50cyBpcyByZXBsYWNlZC5cbiAgICAvLyBUaGUgYWpheEJlZm9yZVJlcGxhY2UgZXZlbnQgaXMgdHJpZ2dlcmVkIGJ5IHRoZSBBSkFYIGZyYW1ld29yay5cbiAgICBiaW5kQXV0b0Rpc3Bvc2FsKCkge1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdwYWdlOmJlZm9yZS1yZW5kZXInLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgQ29udHJvbGxlci5kaXNwb3NlQ29udHJvbHMoZXYudGFyZ2V0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcignYWpheDpiZWZvcmUtcmVwbGFjZScsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICBDb250cm9sbGVyLmRpc3Bvc2VDb250cm9scyhldi50YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBEZXN0cm95cyBhbGwgZGlzcG9zYWJsZSBjb250cm9scyBpbiBhIGNvbnRhaW5lci5cbiAgICAvLyBUaGUgZGlzcG9zYWJsZSBjb250cm9scyBzaG91bGQgd2F0Y2ggdGhlIGRpc3Bvc2UtY29udHJvbCBldmVudC5cbiAgICBzdGF0aWMgZGlzcG9zZUNvbnRyb2xzKGNvbnRhaW5lcikge1xuICAgICAgICBpZiAoY29udGFpbmVyID09PSBkb2N1bWVudCkge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWRpc3Bvc2FibGVdJykuZm9yRWFjaChmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICAgICAgICBvYy5FdmVudHMuZGlzcGF0Y2goJ29jdG9iZXI6ZGlzcG9zZScsIHsgdGFyZ2V0OiBjb250cm9sIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoY29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnZGF0YS1kaXNwb3NhYmxlJykpIHtcbiAgICAgICAgICAgIG9jLkV2ZW50cy5kaXNwYXRjaCgnb2N0b2JlcjpkaXNwb3NlJywgeyB0YXJnZXQ6IGNvbnRhaW5lciB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImZ1bmN0aW9uIG5vcm1hbGl6ZURhdGEodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPT09IE51bWJlcih2YWx1ZSkudG9TdHJpbmcoKSkge1xuICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKVxuICAgIH1cblxuICAgIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09ICdudWxsJykge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZURhdGFLZXkoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5yZXBsYWNlKC9bQS1aXS9nLCBjaHIgPT4gYC0ke2Noci50b0xvd2VyQ2FzZSgpfWApXG59XG5cbmNvbnN0IENvbmZpZyA9IHtcbiAgICBzZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYGRhdGEtJHtub3JtYWxpemVEYXRhS2V5KGtleSl9YCwgdmFsdWUpO1xuICAgIH0sXG5cbiAgICByZW1vdmVEYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShgZGF0YS0ke25vcm1hbGl6ZURhdGFLZXkoa2V5KX1gKTtcbiAgICB9LFxuXG4gICAgZ2V0RGF0YUF0dHJpYnV0ZXMoZWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgY29uc3QgZGF0YUtleXMgPSBPYmplY3Qua2V5cyhlbGVtZW50LmRhdGFzZXQpO1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGRhdGFLZXlzKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzW2tleV0gPSBub3JtYWxpemVEYXRhKGVsZW1lbnQuZGF0YXNldFtrZXldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH0sXG5cbiAgICBnZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplRGF0YShlbGVtZW50LmdldEF0dHJpYnV0ZShgZGF0YS0ke25vcm1hbGl6ZURhdGFLZXkoa2V5KX1gKSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZ1xuIiwiY29uc3QgZWxlbWVudE1hcCA9IG5ldyBNYXAoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHNldChlbGVtZW50LCBrZXksIGluc3RhbmNlKSB7XG4gICAgICAgIGlmICghZWxlbWVudE1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGVsZW1lbnRNYXAuc2V0KGVsZW1lbnQsIG5ldyBNYXAoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnN0YW5jZU1hcCA9IGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoIWluc3RhbmNlTWFwLmhhcyhrZXkpICYmIGluc3RhbmNlTWFwLnNpemUgIT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtGb3VuZGF0aW9uXSBDYW5ub3QgYmluZCBtb3JlIHRoYW4gb25lIGluc3RhbmNlIHBlciBlbGVtZW50LiBCb3VuZCBpbnN0YW5jZTogJHtBcnJheS5mcm9tKGluc3RhbmNlTWFwLmtleXMoKSlbMF19LmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5zdGFuY2VNYXAuc2V0KGtleSwgaW5zdGFuY2UpO1xuICAgIH0sXG5cbiAgICBnZXQoZWxlbWVudCwga2V5KSB7XG4gICAgICAgIGlmIChlbGVtZW50TWFwLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnQpLmdldChrZXkpIHx8IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgcmVtb3ZlKGVsZW1lbnQsIGtleSkge1xuICAgICAgICBpZiAoIWVsZW1lbnRNYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnN0YW5jZU1hcCA9IGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnQpO1xuXG4gICAgICAgIGluc3RhbmNlTWFwLmRlbGV0ZShrZXkpO1xuXG4gICAgICAgIGlmIChpbnN0YW5jZU1hcC5zaXplID09PSAwKSB7XG4gICAgICAgICAgICBlbGVtZW50TWFwLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBDb25maWcgZnJvbSAnLi91dGlsL2NvbmZpZyc7XG5pbXBvcnQgRGF0YSBmcm9tICcuL3V0aWwvZGF0YSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VDbGFzc1xue1xuICAgIHN0YXRpYyBwcm94eUNvdW50ZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICAgIGVsZW1lbnQgPSBnZXRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5wcm94aWVkTWV0aG9kcyA9IHt9O1xuICAgICAgICB0aGlzLm1hcmtEaXNwb3NhYmxlKCk7XG5cbiAgICAgICAgRGF0YS5zZXQodGhpcy5lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkRBVEFOQU1FLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBQdWJsaWNcbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBEYXRhLnJlbW92ZSh0aGlzLmVsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuREFUQU5BTUUpXG5cbiAgICAgICAgdGhpcy5mb3JnZXQoJ29jdG9iZXI6ZGlzcG9zZScsIHRoaXMucHJveHkodGhpcy5kaXNwb3NlKSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5wcm94aWVkTWV0aG9kcykge1xuICAgICAgICAgICAgdGhpcy5wcm94aWVkTWV0aG9kc1trZXldID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XG4gICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RhdGljXG4gICAgc3RhdGljIGdldEluc3RhbmNlKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIERhdGEuZ2V0KGdldEVsZW1lbnQoZWxlbWVudCksIHRoaXMuREFUQU5BTUUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRPckNyZWF0ZUluc3RhbmNlKGVsZW1lbnQsIGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc3RhbmNlKGVsZW1lbnQpIHx8IG5ldyB0aGlzKGVsZW1lbnQsIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDogbnVsbCk7XG4gICAgfVxuXG4gICAgLy8gRXZlbnRzXG4gICAgbGlzdGVuKGV2ZW50TmFtZSwgaGFuZGxlciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG9jLkV2ZW50cy5vbih0aGlzLmVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlciwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGxpc3Rlbk9uY2UoZXZlbnROYW1lLCBoYW5kbGVyLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gb2MuRXZlbnRzLm9uZSh0aGlzLmVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlciwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGZvcmdldChldmVudE5hbWUsIGhhbmRsZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBvYy5FdmVudHMub2ZmKHRoaXMuZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goZXZlbnROYW1lLCBhcmdzID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG9jLkV2ZW50cy5kaXNwYXRjaChldmVudE5hbWUsIHsgdGFyZ2V0OiB0aGlzLmVsZW1lbnQsIC4uLmFyZ3MgfSk7XG4gICAgfVxuXG4gICAgLy8gUHJpdmF0ZVxuICAgIG1hcmtEaXNwb3NhYmxlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRpc3Bvc2FibGUnLCAnJylcbiAgICAgICAgdGhpcy5saXN0ZW4oJ29jdG9iZXI6ZGlzcG9zZScsIHRoaXMucHJveHkodGhpcy5kaXNwb3NlKSk7XG4gICAgfVxuXG4gICAgb25EaXNwb3NlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubGlzdGVuKCdvY3RvYmVyOmRpc3Bvc2UnLCB0aGlzLnByb3h5KGNhbGxiYWNrKSk7XG4gICAgfVxuXG4gICAgcHJveHkobWV0aG9kKSB7XG4gICAgICAgIGlmIChtZXRob2Qub2NQcm94eUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEJhc2VDbGFzcy5wcm94eUNvdW50ZXIrKztcbiAgICAgICAgICAgIG1ldGhvZC5vY1Byb3h5SWQgPSBCYXNlQ2xhc3MucHJveHlDb3VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJveGllZE1ldGhvZHNbbWV0aG9kLm9jUHJveHlJZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJveGllZE1ldGhvZHNbbWV0aG9kLm9jUHJveHlJZF07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb3hpZWRNZXRob2RzW21ldGhvZC5vY1Byb3h5SWRdID0gbWV0aG9kLmJpbmQodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucHJveGllZE1ldGhvZHNbbWV0aG9kLm9jUHJveHlJZF07XG4gICAgfVxuXG4gICAgZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udGhpcy5jb25zdHJ1Y3Rvci5ERUZBVUxUUyxcbiAgICAgICAgICAgIC4uLkNvbmZpZy5nZXREYXRhQXR0cmlidXRlcyh0aGlzLmVsZW1lbnQpLFxuICAgICAgICAgICAgLi4uKHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDoge30pXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnQoZWxlbWVudCkge1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJyAmJiBvYmplY3QubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvYmplY3QpO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xufVxuIiwiaW1wb3J0IEJhc2VDbGFzcyBmcm9tICcuLi8uLi9iYXNlLWNsYXNzJztcblxuY2xhc3MgU2VsZWN0IGV4dGVuZHMgQmFzZUNsYXNzXG57XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIGNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy4kZWwgPSAkKGVsZW1lbnQpO1xuXG4gICAgICAgIC8vIEludGVybmFsIEV2ZW50c1xuICAgICAgICB0aGlzLmZvcm1hdFNlbGVjdE9wdGlvbiA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICAgICAgICAvLyBFc2NhcGUgSFRNTFxuICAgICAgICAgICAgdmFyIHRleHQgPSAkKCc8c3Bhbj4nKS50ZXh0KHN0YXRlLnRleHQpLmh0bWwoKTtcblxuICAgICAgICAgICAgLy8gRWxlbWVudCBpcyBvcHRncm91cFxuICAgICAgICAgICAgaWYgKHN0YXRlLmlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICRvcHRpb24gPSAkKHN0YXRlLmVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIHN0YXR1c0NvbG9yID0gc3RhdGUuc3RhdHVzID8gc3RhdGUuc3RhdHVzIDogJG9wdGlvbi5kYXRhKCdzdGF0dXMnKSxcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSBzdGF0ZS5pY29uID8gc3RhdGUuaWNvbiA6ICRvcHRpb24uZGF0YSgnaWNvbicpLFxuICAgICAgICAgICAgICAgIGltYWdlU3JjID0gc3RhdGUuaW1hZ2UgPyBzdGF0ZS5pbWFnZSA6ICRvcHRpb24uZGF0YSgnaW1hZ2UnKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1c0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cInNlbGVjdC1zdGF0dXMgc3RhdHVzLWluZGljYXRvclwiIHN0eWxlPVwiYmFja2dyb3VuZDonK3N0YXR1c0NvbG9yKydcIj48L3NwYW4+ICcgKyB0ZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaWNvbkNsYXNzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8aSBjbGFzcz1cInNlbGVjdC1pY29uICcraWNvbkNsYXNzKydcIj48L2k+ICcgKyB0ZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW1hZ2VTcmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzxpbWcgY2xhc3M9XCJzZWxlY3QtaW1hZ2VcIiBzcmM9XCInK2ltYWdlU3JjKydcIiBhbHQ9XCJcIiAvPiAnICsgdGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc2FibGVTZWxlY3QgPSBmdW5jdGlvbihldmVudCwgc3RhdHVzKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKCdzZWxlY3QyJykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICQodGhpcykuc2VsZWN0MignZW5hYmxlJywgIXN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQmluZCB0byBuYXRpdmUgYW5kIHByZXZlbnQgcmVjdXJzaW9uIHdpdGggZXZlbnQgb25jZVxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMudHJpZ2dlck5hdGl2ZUNoYW5nZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBvYy5FdmVudHMuZGlzcGF0Y2goJ2NoYW5nZScsIHsgdGFyZ2V0OiBldmVudC5jdXJyZW50VGFyZ2V0IH0pO1xuICAgICAgICAgICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5vbmUoJ2NoYW5nZScsIHNlbGYudHJpZ2dlck5hdGl2ZUNoYW5nZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRGVzdHJveSBwbGFjZWhvbGRlciBpZiBpdCBpcyBzdGlsbCB0aGVyZVxuICAgICAgICB0aGlzLmRlc3Ryb3lQbGFjZWhvbGRlcigpO1xuXG4gICAgICAgIC8vIEluaXRcbiAgICAgICAgdGhpcy4kZWwub25lKCdjaGFuZ2UnLCB0aGlzLnByb3h5KHRoaXMudHJpZ2dlck5hdGl2ZUNoYW5nZSkpO1xuICAgICAgICB0aGlzLiRlbC5vbignZGlzYWJsZScsIHRoaXMucHJveHkodGhpcy5kaXNhYmxlU2VsZWN0KSk7XG5cbiAgICAgICAgdGhpcy5iaW5kQ3VzdG9tU2VsZWN0KCk7XG4gICAgICAgIHRoaXMuYmluZEN1c3RvbVNlbGVjdFdvcmthcm91bmQoKTtcbiAgICB9XG5cbiAgICBiaW5kQ3VzdG9tU2VsZWN0V29ya2Fyb3VuZCgpIHtcbiAgICAgICAgLy8gSGFjayB0byByZWludHJvZHVjZSBjb250YWluZXJDc3NDbGFzc1xuICAgICAgICB0aGlzLiRlbC5kYXRhKCdzZWxlY3QyJykuJGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY29udGFpbmVyQ3NzQ2xhc3MpO1xuXG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHNlYXJjaCBub3QgYXV0byBmb2N1c2luZyAoaHR0cHM6Ly9naXRodWIuY29tL3NlbGVjdDIvc2VsZWN0Mi9pc3N1ZXMvNTk5MylcbiAgICAgICAgdGhpcy5zZWxlY3QyT3Blbldvcmthcm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbGVjdDItY29udGFpbmVyLS1vcGVuIC5zZWxlY3QyLXNlYXJjaF9fZmllbGQnKS5mb2N1cygpO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLiRlbC5vbignc2VsZWN0MjpvcGVuJywgdGhpcy5zZWxlY3QyT3Blbldvcmthcm91bmQpO1xuICAgIH1cblxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuY2xvbmVQbGFjZWhvbGRlcigpO1xuXG4gICAgICAgIHRoaXMuJGVsLm9mZignY2hhbmdlJywgdGhpcy5wcm94eSh0aGlzLnRyaWdnZXJOYXRpdmVDaGFuZ2UpKTtcbiAgICAgICAgdGhpcy4kZWwub2ZmKCdkaXNhYmxlJywgdGhpcy5wcm94eSh0aGlzLmRpc2FibGVTZWxlY3QpKTtcblxuICAgICAgICB0aGlzLiRlbC5vZmYoJ3NlbGVjdDI6b3BlbicsIHRoaXMuc2VsZWN0Mk9wZW5Xb3JrYXJvdW5kKTtcbiAgICAgICAgdGhpcy4kZWwuc2VsZWN0MignZGVzdHJveScpO1xuXG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95UGxhY2Vob2xkZXIoKSB7XG4gICAgICAgIHZhciBhcnRlZmFjdCA9IHRoaXMuZWxlbWVudCAmJiB0aGlzLmVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICBpZiAoYXJ0ZWZhY3QgJiYgYXJ0ZWZhY3QubWF0Y2hlcygnLnNlbGVjdDInKSkge1xuICAgICAgICAgICAgYXJ0ZWZhY3QucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbG9uZVBsYWNlaG9sZGVyKCkge1xuICAgICAgICB2YXIgYXJ0ZWZhY3QgPSB0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKGFydGVmYWN0ICYmIGFydGVmYWN0Lm1hdGNoZXMoJy5zZWxlY3QyJykpIHtcbiAgICAgICAgICAgIHZhciBuZXdOb2RlID0gYXJ0ZWZhY3QuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgYXJ0ZWZhY3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgYXJ0ZWZhY3QubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgbmV3Tm9kZS5pbm5lckh0bWwgPSBhcnRlZmFjdC5pbm5lckh0bWw7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmRDdXN0b21TZWxlY3QoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zID0gdGhpcy5idWlsZFNlbGVjdE9wdGlvbnMoKTtcblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmRhdGFzZXQuaGFuZGxlcikge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMuYnVpbGRBamF4SGFuZGxlck9wdGlvbihvcHRpb25zLCB0aGlzLmVsZW1lbnQuZGF0YXNldC5oYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuZGF0YXNldC50b2tlblNlcGFyYXRvcnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLmJ1aWxkVG9rZW5TZXBhcmF0b3JPcHRpb25zKG9wdGlvbnMsIHRoaXMuZWxlbWVudC5kYXRhc2V0LnRva2VuU2VwYXJhdG9ycyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRlbC5zZWxlY3QyKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGJ1aWxkVG9rZW5TZXBhcmF0b3JPcHRpb25zKHNlbGVjdE9wdGlvbnMsIHNlcGFyYXRvcnMpIHtcbiAgICAgICAgc2VsZWN0T3B0aW9ucy50YWdzID0gdHJ1ZTtcbiAgICAgICAgc2VsZWN0T3B0aW9ucy50b2tlblNlcGFyYXRvcnMgPSBzZXBhcmF0b3JzLnNwbGl0KCd8Jyk7XG5cbiAgICAgICAgLy8gV2hlbiB0aGUgZHJvcGRvd24gaXMgaGlkZGVuLCBmb3JjZSB0aGUgZmlyc3Qgb3B0aW9uIHRvIGJlIHNlbGVjdGVkIGFsd2F5cy5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdC1uby1kcm9wZG93bicpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLnNlbGVjdE9uQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5jbG9zZU9uU2VsZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLm1pbmltdW1JbnB1dExlbmd0aCA9IDE7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdzZWxlY3QyOmNsb3NpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGlnaGxpZ2h0ZWRFbHMgPSAkKCcuc2VsZWN0Mi1kcm9wZG93bi5zZWxlY3Qtbm8tZHJvcGRvd246Zmlyc3QgLnNlbGVjdDItcmVzdWx0c19fb3B0aW9uLS1oaWdobGlnaHRlZCcpO1xuICAgICAgICAgICAgICAgIGlmIChoaWdobGlnaHRlZEVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkRWxzLnJlbW92ZUNsYXNzKCdzZWxlY3QyLXJlc3VsdHNfX29wdGlvbi0taGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNlbGVjdDItZHJvcGRvd24uc2VsZWN0LW5vLWRyb3Bkb3duOmZpcnN0IC5zZWxlY3QyLXJlc3VsdHNfX29wdGlvbjpmaXJzdCcpLmFkZENsYXNzKCdzZWxlY3QyLXJlc3VsdHNfX29wdGlvbi0taGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RPcHRpb25zO1xuICAgIH1cblxuICAgIGJ1aWxkQWpheEhhbmRsZXJPcHRpb24oc2VsZWN0T3B0aW9ucywgc291cmNlKSB7XG4gICAgICAgIHNlbGVjdE9wdGlvbnMuYWpheCA9IHtcbiAgICAgICAgICAgIHRyYW5zcG9ydDogZnVuY3Rpb24ocGFyYW1zLCBzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBvYy5hamF4KHNvdXJjZSwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwYXJhbXMuZGF0YVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5kb25lKHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3QuZmFpbChmYWlsdXJlKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3NSZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBkYXRhLnJlc3VsdCB8fCBkYXRhLnJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGRlbGV0ZShkYXRhLnJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QyIGZvcm1hdFxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzWzBdICYmIHR5cGVvZihyZXN1bHRzWzBdKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEJ1aWxkIGtleS12YWx1ZSBtYXBcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXN1bHRzW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhLnJlc3VsdHMgPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VsZWN0T3B0aW9ucztcbiAgICB9XG5cbiAgICBidWlsZFNlbGVjdE9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBzZWxlY3RPcHRpb25zID0ge1xuICAgICAgICAgICAgdGVtcGxhdGVSZXN1bHQ6IHRoaXMuZm9ybWF0U2VsZWN0T3B0aW9uLFxuICAgICAgICAgICAgdGVtcGxhdGVTZWxlY3Rpb246IHRoaXMuZm9ybWF0U2VsZWN0T3B0aW9uLFxuICAgICAgICAgICAgZXNjYXBlTWFya3VwOiBmdW5jdGlvbihtKSB7IHJldHVybiBtIH0sXG4gICAgICAgICAgICB3aWR0aDogJ3N0eWxlJyxcbiAgICAgICAgICAgIGNvbnRhaW5lckNzc0NsYXNzOiAnJyxcbiAgICAgICAgICAgIGRyb3Bkb3duQ3NzQ2xhc3M6ICcnLFxuICAgICAgICAgICAgc2VsZWN0aW9uQ3NzQ2xhc3M6ICcnXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LW5vLXNlYXJjaCcpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLm1pbmltdW1SZXN1bHRzRm9yU2VhcmNoID0gSW5maW5pdHk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LW5vLWRyb3Bkb3duJykpIHtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuZHJvcGRvd25Dc3NDbGFzcyArPSAnIHNlbGVjdC1uby1kcm9wZG93bic7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLnNlbGVjdGlvbkNzc0NsYXNzICs9ICcgc2VsZWN0LW5vLWRyb3Bkb3duJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3QtaGlkZS1zZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLmRyb3Bkb3duQ3NzQ2xhc3MgKz0gJyBzZWxlY3QtaGlkZS1zZWxlY3RlZCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LWRyb3Bkb3duLWF1dG8td2lkdGgnKSkge1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5kcm9wZG93bkF1dG9XaWR0aCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaXppbmdcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tY29udHJvbC1zbScpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLmNvbnRhaW5lckNzc0NsYXNzICs9ICcgZm9ybS1jb250cm9sLXNtJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmb3JtLWNvbnRyb2wtbGcnKSkge1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5jb250YWluZXJDc3NDbGFzcyArPSAnIGZvcm0tY29udHJvbC1sZyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMYW5ndWFnZVxuICAgICAgICB2YXIgbGFuZ3VhZ2UgPSB0aGlzLmVsZW1lbnQuZGF0YXNldC5sYW5ndWFnZTtcbiAgICAgICAgaWYgKCFsYW5ndWFnZSkge1xuICAgICAgICAgICAgdmFyIG1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJiYWNrZW5kLWxvY2FsZVwiXScpO1xuICAgICAgICAgICAgaWYgKG1ldGEpIHtcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSA9IG1ldGEuZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBsYWNlaG9sZGVyXG4gICAgICAgIHZhciBwbGFjZWhvbGRlciA9IHRoaXMuZWxlbWVudC5kYXRhc2V0LnBsYWNlaG9sZGVyO1xuICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuYWxsb3dDbGVhciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsZWN0T3B0aW9ucztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IERBVEFOQU1FKCkge1xuICAgICAgICByZXR1cm4gJ29jU2VsZWN0JztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IERFRkFVTFRTKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgYXV0b2hpZGU6IHRydWUsXG4gICAgICAgICAgICBkZWxheTogNTAwMFxuICAgICAgICB9XG4gICAgfVxufVxuXG5hZGRFdmVudExpc3RlbmVyKCdyZW5kZXInLCBmdW5jdGlvbigpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3QuY3VzdG9tLXNlbGVjdCcpLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgU2VsZWN0LmdldE9yQ3JlYXRlSW5zdGFuY2UoZWwpO1xuICAgIH0pO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdDtcbiIsImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXInO1xuaW1wb3J0IEJhc2VDbGFzcyBmcm9tICcuL2Jhc2UtY2xhc3MnO1xuXG4vLyBTZWxmIHN0YXJ0aW5nIGluc3RhbmNlXG5jb25zdCBpbnN0YW5jZSA9IG5ldyBDb250cm9sbGVyO1xuXG5pZiAod2luZG93Lm9jKSB7XG4gICAgd2luZG93Lm9jLkZvdW5kYXRpb24gPSBpbnN0YW5jZTtcbiAgICB3aW5kb3cub2MuRm91bmRhdGlvbkJhc2UgPSBCYXNlQ2xhc3M7XG59XG5cbmluc3RhbmNlLnN0YXJ0KCk7XG5cbi8qXG4gfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gfCBGb3VuZGF0aW9uYWwgQ29tcG9uZW50c1xuIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIHxcbiAqL1xuXG5leHBvcnQgeyBkZWZhdWx0IGFzIFNlbGVjdCB9IGZyb20gJy4vY29udHJvbHMvc2VsZWN0L3NlbGVjdCc7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImpRdWVyeSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJDb250cm9sbGVyIiwidGhpcyIsInN0YXJ0ZWQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiY29udHJvbCIsIm9jIiwiRXZlbnRzIiwiZGlzcGF0Y2giLCJ0YXJnZXQiLCJoYXNBdHRyaWJ1dGUiLCJiaW5kQXV0b0Rpc3Bvc2FsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwiZGlzcG9zZUNvbnRyb2xzIiwibm9ybWFsaXplRGF0YSIsInZhbHVlIiwiTnVtYmVyIiwidG9TdHJpbmciLCJKU09OIiwicGFyc2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJub3JtYWxpemVEYXRhS2V5Iiwia2V5IiwicmVwbGFjZSIsImNociIsInRvTG93ZXJDYXNlIiwic2V0RGF0YUF0dHJpYnV0ZSIsImVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVEYXRhQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0RGF0YUF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiT2JqZWN0Iiwia2V5cyIsImRhdGFzZXQiLCJnZXREYXRhQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwiZWxlbWVudE1hcCIsIk1hcCIsImluc3RhbmNlIiwiaGFzIiwic2V0IiwiaW5zdGFuY2VNYXAiLCJnZXQiLCJzaXplIiwiY29uc29sZSIsImVycm9yIiwiQXJyYXkiLCJmcm9tIiwiQmFzZUNsYXNzIiwiY29uZmlnIiwiZ2V0RWxlbWVudCIsImdldENvbmZpZyIsInByb3hpZWRNZXRob2RzIiwibWFya0Rpc3Bvc2FibGUiLCJEYXRhIiwiY29uc3RydWN0b3IiLCJEQVRBTkFNRSIsImZvcmdldCIsInByb3h5IiwiZGlzcG9zZSIsImdldE93blByb3BlcnR5TmFtZXMiLCJldmVudE5hbWUiLCJoYW5kbGVyIiwiY2FsbGJhY2siLCJvbiIsIm9uZSIsIm9mZiIsImFyZ3MiLCJsaXN0ZW4iLCJtZXRob2QiLCJvY1Byb3h5SWQiLCJwcm94eUNvdW50ZXIiLCJiaW5kIiwiREVGQVVMVFMiLCJDb25maWciLCJnZXRJbnN0YW5jZSIsIm9iamVjdCIsImxlbmd0aCIsInF1ZXJ5U2VsZWN0b3IiLCJTZWxlY3QiLCIkZWwiLCIkIiwiZm9ybWF0U2VsZWN0T3B0aW9uIiwic3RhdGUiLCJ0ZXh0IiwiaHRtbCIsImlkIiwiJG9wdGlvbiIsInN0YXR1c0NvbG9yIiwic3RhdHVzIiwiZGF0YSIsImljb25DbGFzcyIsImljb24iLCJpbWFnZVNyYyIsImltYWdlIiwiZGlzYWJsZVNlbGVjdCIsImV2ZW50Iiwic2VsZWN0MiIsInNlbGYiLCJ0cmlnZ2VyTmF0aXZlQ2hhbmdlIiwiY3VycmVudFRhcmdldCIsImRlc3Ryb3lQbGFjZWhvbGRlciIsImJpbmRDdXN0b21TZWxlY3QiLCJiaW5kQ3VzdG9tU2VsZWN0V29ya2Fyb3VuZCIsIiRjb250YWluZXIiLCJhZGRDbGFzcyIsIm9wdGlvbnMiLCJjb250YWluZXJDc3NDbGFzcyIsInNlbGVjdDJPcGVuV29ya2Fyb3VuZCIsInNldFRpbWVvdXQiLCJmb2N1cyIsImNsb25lUGxhY2Vob2xkZXIiLCJhcnRlZmFjdCIsIm5leHRFbGVtZW50U2libGluZyIsIm1hdGNoZXMiLCJyZW1vdmUiLCJuZXdOb2RlIiwiY2xvbmVOb2RlIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwiaW5uZXJIdG1sIiwic3R5bGUiLCJkaXNwbGF5IiwiYnVpbGRTZWxlY3RPcHRpb25zIiwiYnVpbGRBamF4SGFuZGxlck9wdGlvbiIsInRva2VuU2VwYXJhdG9ycyIsImJ1aWxkVG9rZW5TZXBhcmF0b3JPcHRpb25zIiwic2VsZWN0T3B0aW9ucyIsInNlcGFyYXRvcnMiLCJ0YWdzIiwic3BsaXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInNlbGVjdE9uQ2xvc2UiLCJjbG9zZU9uU2VsZWN0IiwibWluaW11bUlucHV0TGVuZ3RoIiwiaGlnaGxpZ2h0ZWRFbHMiLCJyZW1vdmVDbGFzcyIsInNvdXJjZSIsImFqYXgiLCJ0cmFuc3BvcnQiLCJwYXJhbXMiLCJzdWNjZXNzIiwiZmFpbHVyZSIsInJlcXVlc3QiLCJkb25lIiwiZmFpbCIsInByb2Nlc3NSZXN1bHRzIiwicmVzdWx0cyIsInJlc3VsdCIsImkiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJkYXRhVHlwZSIsInRlbXBsYXRlUmVzdWx0IiwidGVtcGxhdGVTZWxlY3Rpb24iLCJlc2NhcGVNYXJrdXAiLCJtIiwid2lkdGgiLCJkcm9wZG93bkNzc0NsYXNzIiwic2VsZWN0aW9uQ3NzQ2xhc3MiLCJtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaCIsIkluZmluaXR5IiwiZHJvcGRvd25BdXRvV2lkdGgiLCJsYW5ndWFnZSIsIm1ldGEiLCJwbGFjZWhvbGRlciIsImFsbG93Q2xlYXIiLCJhbmltYXRpb24iLCJhdXRvaGlkZSIsImRlbGF5IiwiZWwiLCJnZXRPckNyZWF0ZUluc3RhbmNlIiwid2luZG93IiwiRm91bmRhdGlvbiIsIkZvdW5kYXRpb25CYXNlIiwic3RhcnQiXSwic291cmNlUm9vdCI6IiJ9